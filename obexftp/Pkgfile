# Description:	CLI tool to transfer files via OBEX 
# URL:		http://dev.zuckschwerdt.org/openobex/wiki/ObexFtp
# Packager:	Alan Mizrahi, alan at mizrahi dot com dot ve
# Maintainer:    Chris Farrell, timcowchip at gorge dot net
# Depends on:	openobex bluez cmake libiconv asciidoc xmlto fuse swig ruby tk

name=obexftp
version=0.24
release=2
source=(https://iweb.dl.sourceforge.net/project/openobex/obexftp/0.24.2/obexftp-0.24.2-Source.tar.gz)

build () {
	mkdir build
	cd build

	cmake ../$name-$version.$release-Source \
		-DCMAKE_BUILD_TYPE=Release \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DENABLE_PERL=NO \
		-DENABLE_PYTHON=NO \
		-DENABLE_RUBY=NO \
		-DENABLE_TCL=NO

	make
	make DESTDIR=$PKG install

	# Install man pages
	# Generating the man pages required asciidoc and xmlto for version 0.24
	for i in $SRC/*.1; do
		install -o root -g root -D $i $PKG/usr/man/man1/${i##*/}
	done

	rm -rf $PKG/usr/share
}
