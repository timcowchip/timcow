# Description: GTK+ Bluetooth Manager
# URL: https://github.com/blueman-project/blueman
# Maintainer: Chris Farrell, timcowchip at gmail dot com
# Depends on: cython intltool gtk3 bluez libnotify pycairo dbus-python pygobject-gtk3

name=blueman
version=2.0.5
release=1

source=(https://github.com/blueman-project/$name/releases/download/$version/$name-$version.tar.xz)
sha256sums=('2c2eb9bbdcb6056eebcae1bec758f6a8ec752739b65794f6be3e0066ca1f88ca')



build() {
  cd $name-$version
  
  # Fix path for bluetoothd
  sed -i 's|/usr/sbin/bluetoothd|/usr/lib/bluetooth/bluetoothd|' apps/blueman-report

  # Fix non-standard icon names
  sed -i 's/gtk-find/edit-find/' data/ui/device-list-widget.ui
  sed -i 's/mouse/input-mouse/' blueman/services/Input.py
  
  ./configure \
    --prefix=/usr \
    --sysconfdir=/etc \
    --libexecdir=/usr/lib/$name \
    --disable-schemas-compile
  make

  make DESTDIR="$PKG" install
}
