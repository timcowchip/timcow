# Description: dynamically managed firewall gui
# URL: http://www.firewalld.org/
# Maintainer: Chris Farrell, timcowchip at gorge dot net
# Depends on: decorator python-slip iptables ebtables ipset

name=firewalld
version=0.4.4.6
release=1
source=(https://github.com/firewalld/firewalld/archive/v0.4.4.6.tar.gz \ firewalld)
build() {
	cd $name-$version
	./autogen.sh
	./configure \
	--prefix=/usr \
	--sbindir='/usr/sbin' \
	--sysconfdir=/etc \
	--localstatedir=/var \
	--mandir=/usr/man \
	--with-iptables='/usr/sbin/iptables' \
    --with-iptables-restore='/usr/sbin/iptables-restore' \
    --with-ip6tables='/usr/sbin/ip6tables' \
    --with-ip6tables-restore='/usr/sbin/ip6tables-restore' \
    --with-ebtables='/usr/sbin/ebtables' \
    --with-ebtables-restore='/usr/sbin/ebtables-restore' \
    --with-ipset='/usr/sbin/ipset' \
    --disable-schemas-compile \
	--disable-systemd \
	--disable-nls

	make
	make  DESTDIR=$PKG  install
	install -D -m 0755 $SRC/firewalld $PKG/etc/rc.d/firewalld
}
